<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Recency, Frequency and Monetary Value Analysis • rfm</title>
<meta name="description" content="Rsquared Academy rfm Package">
<meta name="author" content="Rsquared Academy">
<link rel="canonical" href="https://rfm.rsquaredacademy.com/" />
<meta property="og:url" content="https://rfm.rsquaredacademy.com/"/>
<meta property="og:title" content="Rsquared Academy"/>
<meta property="og:site_name" content="rfm.rsquaredacademy.com"/>
<meta property="og:description" content="Tools for RFM (recency, frequency and monetary value) analysis. 
    Generate RFM score from both transaction and customer level data. Visualize the
    relationship between recency, frequency and monetary value using heatmap, 
    histograms, bar charts and scatter plots. Includes a 'shiny' app for 
    interactive segmentation. References:
    i. Blattberg R.C., Kim BD., Neslin S.A (2008) &lt;doi:10.1007/978-0-387-72579-6_12&gt;.">
<meta name="keywords" content="aravind, hebbali, rsquared, academy, interactive, shiny, rfm, package, recency, frequency, monetary, R" />
<meta name="description" content="Rsquared Academy rfm Package" />
<meta property="og:image" content="https://rfm.rsquaredacademy.com/hex_rfm.png"/>
  <meta property="og:image:height" content="219"/>
  <meta property="og:image:width" content="220"/>
  <meta name="twitter:title" content="inferr" />
  <meta name="twitter:description" content="Tools for RFM (recency, frequency and monetary value) analysis. 
    Generate RFM score from both transaction and customer level data. Visualize the
    relationship between recency, frequency and monetary value using heatmap, 
    histograms, bar charts and scatter plots. Includes a 'shiny' app for 
    interactive segmentation. References:
    i. Blattberg R.C., Kim BD., Neslin S.A (2008) &lt;doi:10.1007/978-0-387-72579-6_12&gt;." />
  <meta name="twitter:card" content="summary" />
  <meta name="twitter:site" content="@rsquaredacademy" />
  <meta name="twitter:image" content="https://rfm.rsquaredacademy.com/hex_rfm.png" />
  <meta name="twitter:image:width" content="300" />
  <meta name="twitter:image:height" content="300" />
  <meta name="twitter:creator" content="@rsquaredacademy" />
  <meta name="twitter:domain" content="rfm.rsquaredacademy.com" />
<!-- jquery --><script src="https://code.jquery.com/jquery-3.1.0.min.js" integrity="sha384-nrOSfDHtoPMzJHjVTdCopGqIqeYETSXhZDFyniQ8ZHcVy08QesyHcnOUpMpqnmWq" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script><!-- Font Awesome icons --><link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" integrity="sha384-T8Gy5hrqNKT+hzMclPo118YTQO6cYprQmhrYwIiQ/3axmI1hQomh7Ud2hPOy8SP1" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/1.7.1/clipboard.min.js" integrity="sha384-cV+rhyOuRHc9Ub/91rihWcGmMmCXDeksTtCihMupQHSsi8GIIRDG0ThDc3HGQFJ3" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="jquery.sticky-kit.min.js"></script><script src="pkgdown.js"></script><meta property="og:title" content="Recency, Frequency and Monetary Value Analysis">
<!-- mathjax --><script src="https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rfm</a>
        <span class="label label-default" data-toggle="tooltip" data-placement="bottom" title="Released package">0.1.1.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/rfm-customer-level-data.html">RFM - Customer Level Data</a>
    </li>
    <li>
      <a href="articles/rfm-transaction-level-data.html">RFM - Transaction Level Data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="reference/index.html">Functions</a>
    </li>
    <li>
      <a href="news/index.html">News</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rsquaredacademy/rfm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="rfm-recency-frequency-and-monetary-value-analysis" class="section level2">
<h2 class="hasAnchor">
<a href="#rfm-recency-frequency-and-monetary-value-analysis" class="anchor"></a>rfm: Recency, Frequency and Monetary Value Analysis <img src="hex_rfm.png" height="100px" align="right">
</h2>
<p><strong>Author:</strong> <a href="https://www.aravindhebbali.com">Aravind Hebbali</a><br><strong>License:</strong> <a href="https://opensource.org/licenses/MIT">MIT</a></p>
<p><a href="https://cran.r-project.org/package=rfm"><img src="http://www.r-pkg.org/badges/version/rfm" alt="CRAN_Status_Badge"></a> <a href="https://travis-ci.org/rsquaredacademy/rfm"><img src="https://travis-ci.org/rsquaredacademy/rfm.svg?branch=master" alt="Travis-CI Build Status"></a> <a href="https://ci.appveyor.com/project/rsquaredacademy/rfm"><img src="https://ci.appveyor.com/api/projects/status/github/rsquaredacademy/rfm?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a> <a href="https://codecov.io/github/rsquaredacademy/rfm?branch=master"><img src="https://img.shields.io/codecov/c/github/rsquaredacademy/rfm/master.svg" alt="Coverage Status"></a> <a href="https://cran.r-project.org/package=rfm"><img src="https://cranlogs.r-pkg.org/badges/grand-total/rfm"></a> <img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg"></p>
<p>Tools for RFM (recency, frequency and monetary) analysis. Generate RFM score from both transaction and customer level data. Visualize the relationship between recency, frequency and monetary value using heatmap, histograms, bar charts and scatter plots. Includes a shiny app for interactive segmentation.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Install rfm from CRAN</span>
<span class="kw">install.packages</span>(<span class="st">"rfm"</span>)

<span class="co"># Or the development version from GitHub</span>
<span class="co"># install.packages("devtools")</span>
devtools<span class="op">::</span><span class="kw"><a href="http://www.rdocumentation.org/packages/devtools/topics/install_github">install_github</a></span>(<span class="st">"rsquaredacademy/rfm"</span>)</code></pre></div>
</div>
<div id="consistent-prefix" class="section level2">
<h2 class="hasAnchor">
<a href="#consistent-prefix" class="anchor"></a>Consistent Prefix</h2>
<p>rfm uses consistent prefix <code>rfm_</code> for easy tab completion.</p>
</div>
<div id="shiny-app" class="section level2">
<h2 class="hasAnchor">
<a href="#shiny-app" class="anchor"></a>Shiny App</h2>
<p>rfm includes a shiny app for interactive analysis and can be launched using <code><a href="reference/rfm_launch_app.html">rfm_launch_app()</a></code>.</p>
</div>
<div id="vignettes" class="section level2">
<h2 class="hasAnchor">
<a href="#vignettes" class="anchor"></a>Vignettes</h2>
<ul>
<li><a href="https://rfm.rsquaredacademy.com/articles/rfm-customer-level-data.html">RFM Customer Data</a></li>
<li><a href="https://rfm.rsquaredacademy.com/articles/rfm-transaction-level-data.html">RFM Transaction Data</a></li>
</ul>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="introduction" class="section level3">
<h3 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h3>
<p><strong>RFM</strong> (recency, frequency, monetary) analysis is a behavior based technique used to segment customers by examining their transaction history such as</p>
<ul>
<li>how recently a customer has purchased (recency)</li>
<li>how often they purchase (frequency)</li>
<li>how much the customer spends (monetary)</li>
</ul>
<p>It is based on the marketing axiom that <strong>80% of your business comes from 20% of your customers</strong>. RFM helps to identify customers who are more likely to respond to promotions by segmenting them into various categories.</p>
</div>
<div id="data" class="section level3">
<h3 class="hasAnchor">
<a href="#data" class="anchor"></a>Data</h3>
<p>To calculate the RFM score for each customer we need transaction data which should include the following:</p>
<ul>
<li>a unique customer id</li>
<li>date of transaction/order</li>
<li>transaction/order amount</li>
</ul>
</div>
<div id="rfm-table" class="section level3">
<h3 class="hasAnchor">
<a href="#rfm-table" class="anchor"></a>RFM Table</h3>
<p>Use <code><a href="reference/rfm_table_order.html">rfm_table_order()</a></code> to generate the RFM score.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">analysis_date &lt;-<span class="st"> </span>lubridate<span class="op">::</span><span class="kw"><a href="http://lubridate.tidyverse.org/reference/as_date.html">as_date</a></span>(<span class="st">'2006-12-31'</span>, <span class="dt">tz =</span> <span class="st">'UTC'</span>)
rfm_result &lt;-<span class="st"> </span><span class="kw"><a href="reference/rfm_table_order.html">rfm_table_order</a></span>(rfm_data_orders, customer_id, order_date, revenue, analysis_date)
rfm_result
<span class="co">#&gt; # A tibble: 995 x 9</span>
<span class="co">#&gt;    customer_id        date_most_recent recency_days transaction_count</span>
<span class="co">#&gt;    &lt;chr&gt;              &lt;date&gt;                  &lt;dbl&gt;             &lt;dbl&gt;</span>
<span class="co">#&gt;  1 Abbey O'Reilly DVM 2006-06-09                205                 6</span>
<span class="co">#&gt;  2 Add Senger         2006-08-13                140                 3</span>
<span class="co">#&gt;  3 Aden Lesch Sr.     2006-06-20                194                 4</span>
<span class="co">#&gt;  4 Admiral Senger     2006-08-21                132                 5</span>
<span class="co">#&gt;  5 Agness O'Keefe     2006-10-02                 90                 9</span>
<span class="co">#&gt;  6 Aileen Barton      2006-10-08                 84                 9</span>
<span class="co">#&gt;  7 Ailene Hermann     2006-03-25                281                 8</span>
<span class="co">#&gt;  8 Aiyanna Bruen PhD  2006-04-29                246                 4</span>
<span class="co">#&gt;  9 Ala Schmidt DDS    2006-01-16                349                 3</span>
<span class="co">#&gt; 10 Alannah Borer      2005-04-21                619                 4</span>
<span class="co">#&gt;    amount recency_score frequency_score monetary_score rfm_score</span>
<span class="co">#&gt;     &lt;dbl&gt;         &lt;int&gt;           &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span>
<span class="co">#&gt;  1    472             3               4              3       343</span>
<span class="co">#&gt;  2    340             4               1              2       412</span>
<span class="co">#&gt;  3    405             3               2              3       323</span>
<span class="co">#&gt;  4    448             4               3              3       433</span>
<span class="co">#&gt;  5    843             5               5              5       555</span>
<span class="co">#&gt;  6    763             5               5              5       555</span>
<span class="co">#&gt;  7    699             3               5              5       355</span>
<span class="co">#&gt;  8    157             3               2              1       321</span>
<span class="co">#&gt;  9    363             2               1              2       212</span>
<span class="co">#&gt; 10    196             1               2              1       121</span>
<span class="co">#&gt; # ... with 985 more rows</span></code></pre></div>
</div>
</div>
<div id="heat-map" class="section level2">
<h2 class="hasAnchor">
<a href="#heat-map" class="anchor"></a>Heat Map</h2>
<p>The heat map shows the average monetary value for different categories of recency and frequency scores. Higher scores of frequency and recency are characterized by higher average monetary value as indicated by the darker areas in the heatmap.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/rfm_heatmap.html">rfm_heatmap</a></span>(rfm_result)</code></pre></div>
<p><img src="tools/README-heatmap-1.png" width="768" style="display: block; margin: auto;"></p>
<div id="bar-chart" class="section level3">
<h3 class="hasAnchor">
<a href="#bar-chart" class="anchor"></a>Bar Chart</h3>
<p>Use <code><a href="reference/rfm_bar_chart.html">rfm_bar_chart()</a></code> to generate the distribution of monetary scores for the different combinations of frequency and recency scores.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/rfm_bar_chart.html">rfm_bar_chart</a></span>(rfm_result)</code></pre></div>
<p><img src="tools/README-barchart-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="histogram" class="section level3">
<h3 class="hasAnchor">
<a href="#histogram" class="anchor"></a>Histogram</h3>
<p>Use <code><a href="reference/rfm_histograms.html">rfm_histograms()</a></code> to examine the relative distribution of</p>
<ul>
<li>monetary value (total revenue generated by each customer)</li>
<li>recency days (days since the most recent visit for each customer)</li>
<li>frequency (transaction count for each customer)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/rfm_histograms.html">rfm_histograms</a></span>(rfm_result)</code></pre></div>
<p><img src="tools/README-rfmhist-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="customers-by-orders" class="section level3">
<h3 class="hasAnchor">
<a href="#customers-by-orders" class="anchor"></a>Customers by Orders</h3>
<p>Visualize the distribution of customers across orders.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/rfm_order_dist.html">rfm_order_dist</a></span>(rfm_result)</code></pre></div>
<p><img src="tools/README-rfmorders-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="scatter-plots" class="section level3">
<h3 class="hasAnchor">
<a href="#scatter-plots" class="anchor"></a>Scatter Plots</h3>
<p>The best customers are those who:</p>
<ul>
<li>bought most recently</li>
<li>most often</li>
<li>and spend the most</li>
</ul>
<p>Now let us examine the relationship between the above.</p>
<div id="recency-vs-monetary-value" class="section level4">
<h4 class="hasAnchor">
<a href="#recency-vs-monetary-value" class="anchor"></a>Recency vs Monetary Value</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/rfm_rm_plot.html">rfm_rm_plot</a></span>(rfm_result)</code></pre></div>
<p><img src="tools/README-mr-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="frequency-vs-monetary-value" class="section level4">
<h4 class="hasAnchor">
<a href="#frequency-vs-monetary-value" class="anchor"></a>Frequency vs Monetary Value</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/rfm_rm_plot.html">rfm_fm_plot</a></span>(rfm_result)</code></pre></div>
<p><img src="tools/README-fm-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="recency-vs-frequency" class="section level4">
<h4 class="hasAnchor">
<a href="#recency-vs-frequency" class="anchor"></a>Recency vs Frequency</h4>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="reference/rfm_rm_plot.html">rfm_rf_plot</a></span>(rfm_result)</code></pre></div>
<p><img src="tools/README-fr-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Please note that this project is released with a <a href="CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=rfm">https://​cloud.r-project.org/​package=rfm</a>
</li>
<li>Browse source code at <br><a href="https://github.com/rsquaredacademy/rfm">https://​github.com/​rsquaredacademy/​rfm</a>
</li>
<li>Report a bug at <br><a href="https://github.com/rsquaredacademy/rfm/issues">https://​github.com/​rsquaredacademy/​rfm/​issues</a>
</li>
<li>Learn more at <br><a href="https://www.rsquaredacademy.com">https://​www.rsquaredacademy.com</a>
</li>
<li>Shiny app at <br><a href="https://apps.rsquaredacademy.com">https://​apps.rsquaredacademy.com</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li><a href="https://www.aravindhebbali.com/">Aravind Hebbali</a> <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://www.aravindhebbali.com/">Aravind Hebbali</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="http://pkgdown.r-lib.org/">pkgdown</a>.</p>
</div>

      </footer>
</div>

  

  </body>
</html>
