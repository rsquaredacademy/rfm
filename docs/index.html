<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>rfm • Recency, Frequency and Monetary Value Analysis</title>
<meta name="description" content="rfm | Rsquared Academy">
<meta name="author" content="Rsquared Academy">
<link rel="canonical" href="https://rfm.rsquaredacademy.com/" />
<meta property="og:url" content="https://rfm.rsquaredacademy.com/"/>
<meta property="og:title" content="rfm | Rsquared Academy"/>
<meta property="og:site_name" content="rfm.rsquaredacademy.com"/>
<meta property="og:description" content="Tools for RFM (recency, frequency and monetary value) analysis." />
<meta name="keywords" content="aravind hebbali, rsquared academy, interactive, shiny, rfm package, recency, frequency, monetary, R, rfm r package, rfm score, rfm analysis r, recency frequency monetary analysis,
rfm segmentation, rfm score r, rfm segmentation r, rfm customer segmentation, customer segmentation r" />
<meta name="description" content="Tools for RFM (recency, frequency and monetary value) analysis." />
<meta name="referrer" content="no-referrer">
<meta property="og:image" content="https://rfm.rsquaredacademy.com/hex_rfm.png"/>
<meta property="og:image:height" content="219"/>
<meta property="og:image:width" content="220"/>
<meta name="twitter:title" content="rfm | Rsquared Academy" />
<meta name="twitter:description" content="Tools for RFM (recency, frequency and monetary value) analysis." /> 
<meta name="twitter:card" content="summary" />
<meta name="twitter:site" content="@rsquaredacademy" />
<meta name="twitter:image" content="https://rfm.rsquaredacademy.com/hex_rfm.png" />
<meta name="twitter:image:width" content="300" />
<meta name="twitter:image:height" content="300" />
<meta name="twitter:creator" content="@rsquaredacademy" />
<meta name="twitter:domain" content="rfm.rsquaredacademy.com" />
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script>
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">rfm</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="index.html">Home</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Guides
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="articles/rfm-customer-level-data.html">RFM - Customer Level Data</a>
    </li>
    <li>
      <a href="articles/rfm-transaction-level-data.html">RFM - Transaction Level Data</a>
    </li>
  </ul>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Reference
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="reference/index.html">Functions</a>
    </li>
    <li>
      <a href="news/index.html">News</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/rsquaredacademy/rfm">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    

    
    
<!-- README.md is generated from README.Rmd. Please edit that file -->
<div id="rfm" class="section level1">
<div class="page-header"><h1 class="hasAnchor">
<a href="#rfm" class="anchor"></a>rfm</h1></div>
<blockquote>
<p>Tools for RFM Analysis</p>
</blockquote>
<p><a href="https://cran.r-project.org/package=rfm"><img src="https://www.r-pkg.org/badges/version/rfm" alt="CRAN_Status_Badge"></a> <a href="https://cran.r-project.org/web/checks/check_results_rfm.html"><img src="https://cranchecks.info/badges/summary/rfm" alt="cran checks"></a> <a href="https://travis-ci.org/rsquaredacademy/rfm"><img src="https://travis-ci.org/rsquaredacademy/rfm.svg?branch=master" alt="Travis-CI Build Status"></a> <a href="https://ci.appveyor.com/project/rsquaredacademy/rfm"><img src="https://ci.appveyor.com/api/projects/status/github/rsquaredacademy/rfm?branch=master&amp;svg=true" alt="AppVeyor Build Status"></a> <a href="https://codecov.io/github/rsquaredacademy/rfm?branch=master"><img src="https://img.shields.io/codecov/c/github/rsquaredacademy/rfm/master.svg" alt="Coverage Status"></a> <a href="https://cran.r-project.org/package=rfm"><img src="https://cranlogs.r-pkg.org/badges/grand-total/rfm"></a> <img src="https://img.shields.io/badge/lifecycle-maturing-blue.svg"></p>
<div id="overview" class="section level2">
<h2 class="hasAnchor">
<a href="#overview" class="anchor"></a>Overview</h2>
<p>Tools for RFM (recency, frequency and monetary) analysis. Generate RFM score from both transaction and customer level data. Visualize the relationship between recency, frequency and monetary value using heatmap, histograms, bar charts and scatter plots.</p>
</div>
<div id="installation" class="section level2">
<h2 class="hasAnchor">
<a href="#installation" class="anchor"></a>Installation</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Install rfm from CRAN</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw"><a href="https://www.rdocumentation.org/packages/utils/topics/install.packages">install.packages</a></span>(<span class="st">"rfm"</span>)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"></a>
<a class="sourceLine" id="cb1-4" data-line-number="4"><span class="co"># Or the development version from GitHub</span></a>
<a class="sourceLine" id="cb1-5" data-line-number="5"><span class="co"># install.packages("devtools")</span></a>
<a class="sourceLine" id="cb1-6" data-line-number="6">devtools<span class="op">::</span><span class="kw"><a href="https://www.rdocumentation.org/packages/devtools/topics/reexports">install_github</a></span>(<span class="st">"rsquaredacademy/rfm"</span>)</a></code></pre></div>
</div>
<div id="articles" class="section level2">
<h2 class="hasAnchor">
<a href="#articles" class="anchor"></a>Articles</h2>
<ul>
<li><a href="https://rfm.rsquaredacademy.com/articles/rfm-customer-level-data.html">RFM Customer Data</a></li>
<li><a href="https://rfm.rsquaredacademy.com/articles/rfm-transaction-level-data.html">RFM Transaction Data</a></li>
</ul>
</div>
<div id="usage" class="section level2">
<h2 class="hasAnchor">
<a href="#usage" class="anchor"></a>Usage</h2>
<div id="introduction" class="section level3">
<h3 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h3>
<p><strong>RFM</strong> (recency, frequency, monetary) analysis is a behavior based technique used to segment customers by examining their transaction history such as</p>
<ul>
<li>how recently a customer has purchased (recency)</li>
<li>how often they purchase (frequency)</li>
<li>how much the customer spends (monetary)</li>
</ul>
<p>It is based on the marketing axiom that <strong>80% of your business comes from 20% of your customers</strong>. RFM helps to identify customers who are more likely to respond to promotions by segmenting them into various categories.</p>
</div>
<div id="data" class="section level3">
<h3 class="hasAnchor">
<a href="#data" class="anchor"></a>Data</h3>
<p>To calculate the RFM score for each customer we need transaction data which should include the following:</p>
<ul>
<li>a unique customer id</li>
<li>date of transaction/order</li>
<li>transaction/order amount</li>
</ul>
</div>
<div id="rfm-table" class="section level3">
<h3 class="hasAnchor">
<a href="#rfm-table" class="anchor"></a>RFM Table</h3>
<p>rfm uses consistent prefix <code>rfm_</code> for easy tab completion. Use <code><a href="reference/rfm_table_order.html">rfm_table_order()</a></code> to generate the RFM score.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1">analysis_date &lt;-<span class="st"> </span>lubridate<span class="op">::</span><span class="kw"><a href="https://lubridate.tidyverse.org/reference/as_date.html">as_date</a></span>(<span class="st">'2006-12-31'</span>, <span class="dt">tz =</span> <span class="st">'UTC'</span>)</a>
<a class="sourceLine" id="cb2-2" data-line-number="2">rfm_result &lt;-<span class="st"> </span><span class="kw"><a href="reference/rfm_table_order.html">rfm_table_order</a></span>(rfm_data_orders, customer_id, order_date, revenue, analysis_date)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3">rfm_result</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"><span class="co">#&gt; # A tibble: 995 x 9</span></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#&gt;    customer_id        date_most_recent recency_days transaction_count</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#&gt;    &lt;chr&gt;              &lt;date&gt;                  &lt;dbl&gt;             &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"><span class="co">#&gt;  1 Abbey O'Reilly DVM 2006-06-09                205                 6</span></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#&gt;  2 Add Senger         2006-08-13                140                 3</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9"><span class="co">#&gt;  3 Aden Lesch Sr.     2006-06-20                194                 4</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="co">#&gt;  4 Admiral Senger     2006-08-21                132                 5</span></a>
<a class="sourceLine" id="cb2-11" data-line-number="11"><span class="co">#&gt;  5 Agness O'Keefe     2006-10-02                 90                 9</span></a>
<a class="sourceLine" id="cb2-12" data-line-number="12"><span class="co">#&gt;  6 Aileen Barton      2006-10-08                 84                 9</span></a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="co">#&gt;  7 Ailene Hermann     2006-03-25                281                 8</span></a>
<a class="sourceLine" id="cb2-14" data-line-number="14"><span class="co">#&gt;  8 Aiyanna Bruen PhD  2006-04-29                246                 4</span></a>
<a class="sourceLine" id="cb2-15" data-line-number="15"><span class="co">#&gt;  9 Ala Schmidt DDS    2006-01-16                349                 3</span></a>
<a class="sourceLine" id="cb2-16" data-line-number="16"><span class="co">#&gt; 10 Alannah Borer      2005-04-21                619                 4</span></a>
<a class="sourceLine" id="cb2-17" data-line-number="17"><span class="co">#&gt;    amount recency_score frequency_score monetary_score rfm_score</span></a>
<a class="sourceLine" id="cb2-18" data-line-number="18"><span class="co">#&gt;     &lt;dbl&gt;         &lt;int&gt;           &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;</span></a>
<a class="sourceLine" id="cb2-19" data-line-number="19"><span class="co">#&gt;  1    472             3               4              3       343</span></a>
<a class="sourceLine" id="cb2-20" data-line-number="20"><span class="co">#&gt;  2    340             4               1              2       412</span></a>
<a class="sourceLine" id="cb2-21" data-line-number="21"><span class="co">#&gt;  3    405             3               2              3       323</span></a>
<a class="sourceLine" id="cb2-22" data-line-number="22"><span class="co">#&gt;  4    448             4               3              3       433</span></a>
<a class="sourceLine" id="cb2-23" data-line-number="23"><span class="co">#&gt;  5    843             5               5              5       555</span></a>
<a class="sourceLine" id="cb2-24" data-line-number="24"><span class="co">#&gt;  6    763             5               5              5       555</span></a>
<a class="sourceLine" id="cb2-25" data-line-number="25"><span class="co">#&gt;  7    699             3               5              5       355</span></a>
<a class="sourceLine" id="cb2-26" data-line-number="26"><span class="co">#&gt;  8    157             3               2              1       321</span></a>
<a class="sourceLine" id="cb2-27" data-line-number="27"><span class="co">#&gt;  9    363             2               1              2       212</span></a>
<a class="sourceLine" id="cb2-28" data-line-number="28"><span class="co">#&gt; 10    196             1               2              1       121</span></a>
<a class="sourceLine" id="cb2-29" data-line-number="29"><span class="co">#&gt; # ... with 985 more rows</span></a></code></pre></div>
</div>
<div id="heat-map" class="section level3">
<h3 class="hasAnchor">
<a href="#heat-map" class="anchor"></a>Heat Map</h3>
<p>The heat map shows the average monetary value for different categories of recency and frequency scores. Higher scores of frequency and recency are characterized by higher average monetary value as indicated by the darker areas in the heatmap.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="kw"><a href="reference/rfm_heatmap.html">rfm_heatmap</a></span>(rfm_result)</a></code></pre></div>
<p><img src="tools/README-heatmap-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="bar-chart" class="section level3">
<h3 class="hasAnchor">
<a href="#bar-chart" class="anchor"></a>Bar Chart</h3>
<p>Use <code><a href="reference/rfm_bar_chart.html">rfm_bar_chart()</a></code> to generate the distribution of monetary scores for the different combinations of frequency and recency scores.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb4-1" data-line-number="1"><span class="kw"><a href="reference/rfm_bar_chart.html">rfm_bar_chart</a></span>(rfm_result)</a></code></pre></div>
<p><img src="tools/README-barchart-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="histogram" class="section level3">
<h3 class="hasAnchor">
<a href="#histogram" class="anchor"></a>Histogram</h3>
<p>Use <code><a href="reference/rfm_histograms.html">rfm_histograms()</a></code> to examine the relative distribution of</p>
<ul>
<li>monetary value (total revenue generated by each customer)</li>
<li>recency days (days since the most recent visit for each customer)</li>
<li>frequency (transaction count for each customer)</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb5-1" data-line-number="1"><span class="kw"><a href="reference/rfm_histograms.html">rfm_histograms</a></span>(rfm_result)</a></code></pre></div>
<p><img src="tools/README-rfmhist-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="customers-by-orders" class="section level3">
<h3 class="hasAnchor">
<a href="#customers-by-orders" class="anchor"></a>Customers by Orders</h3>
<p>Visualize the distribution of customers across orders.</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb6-1" data-line-number="1"><span class="kw"><a href="reference/rfm_order_dist.html">rfm_order_dist</a></span>(rfm_result)</a></code></pre></div>
<p><img src="tools/README-rfmorders-1.png" width="768" style="display: block; margin: auto;"></p>
</div>
<div id="scatter-plots" class="section level3">
<h3 class="hasAnchor">
<a href="#scatter-plots" class="anchor"></a>Scatter Plots</h3>
<p>The best customers are those who:</p>
<ul>
<li>bought most recently</li>
<li>most often</li>
<li>and spend the most</li>
</ul>
<p>Now let us examine the relationship between the above.</p>
<div id="recency-vs-monetary-value" class="section level4">
<h4 class="hasAnchor">
<a href="#recency-vs-monetary-value" class="anchor"></a>Recency vs Monetary Value</h4>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb7-1" data-line-number="1"><span class="kw"><a href="reference/rfm_rm_plot.html">rfm_rm_plot</a></span>(rfm_result)</a></code></pre></div>
<p><img src="tools/README-mr-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="frequency-vs-monetary-value" class="section level4">
<h4 class="hasAnchor">
<a href="#frequency-vs-monetary-value" class="anchor"></a>Frequency vs Monetary Value</h4>
<div class="sourceCode" id="cb8"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb8-1" data-line-number="1"><span class="kw"><a href="reference/rfm_rm_plot.html">rfm_fm_plot</a></span>(rfm_result)</a></code></pre></div>
<p><img src="tools/README-fm-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
<div id="recency-vs-frequency" class="section level4">
<h4 class="hasAnchor">
<a href="#recency-vs-frequency" class="anchor"></a>Recency vs Frequency</h4>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb9-1" data-line-number="1"><span class="kw"><a href="reference/rfm_rm_plot.html">rfm_rf_plot</a></span>(rfm_result)</a></code></pre></div>
<p><img src="tools/README-fr-1.png" width="672" style="display: block; margin: auto;"></p>
</div>
</div>
</div>
<div id="getting-help" class="section level2">
<h2 class="hasAnchor">
<a href="#getting-help" class="anchor"></a>Getting Help</h2>
<p>If you encounter a bug, please file a minimal reproducible example using <a href="https://reprex.tidyverse.org/index.html">reprex</a> on github. For questions and clarifications, use <a href="https://stackoverflow.com/">StackOverflow</a>.</p>
</div>
<div id="code-of-conduct" class="section level2">
<h2 class="hasAnchor">
<a href="#code-of-conduct" class="anchor"></a>Code of Conduct</h2>
<p>Please note that this project is released with a <a href="CONDUCT.html">Contributor Code of Conduct</a>. By participating in this project you agree to abide by its terms.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <div class="links">
<h2>Links</h2>
<ul class="list-unstyled">
<li>Download from CRAN at <br><a href="https://cloud.r-project.org/package=rfm">https://​cloud.r-project.org/​package=rfm</a>
</li>
<li>Browse source code at <br><a href="https://github.com/rsquaredacademy/rfm">https://​github.com/​rsquaredacademy/​rfm</a>
</li>
<li>Report a bug at <br><a href="https://github.com/rsquaredacademy/rfm/issues">https://​github.com/​rsquaredacademy/​rfm/​issues</a>
</li>
<li>Learn more at <br><a href="https://www.rsquaredacademy.com">https://​www.rsquaredacademy.com</a>
</li>
<li>Shiny app at <br><a href="https://www.rsquaredcomputing.com/shiny/rfm/">https://​www.rsquaredcomputing.com/​shiny/​rfm/​</a>
</li>
</ul>
</div>
<div class="license">
<h2>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>
<div class="developers">
<h2>Developers</h2>
<ul class="list-unstyled">
<li>
<a href="https://www.aravindhebbali.com">Aravind Hebbali</a> <br><small class="roles"> Author, maintainer </small> <a href="https://orcid.org/0000-0001-9220-9669" target="orcid.widget"><img src="https://members.orcid.org/sites/default/files/vector_iD_icon.svg" class="orcid" alt="ORCID" height="16"></a> </li>
</ul>
</div>

      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by <a href="https://www.aravindhebbali.com">Aravind Hebbali</a>.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
